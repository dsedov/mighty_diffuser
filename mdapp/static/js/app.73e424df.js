(function(){"use strict";var e={3268:function(e,t,s){var i=s(144),a=function(){var e=this,t=e._self._c;return t("HelloWorld")},r=[],l=s(1653),n=s(998),o=s(2019),d=s(2150),c=s(8271),h=s(4324),p=s(5808),m=s(3059),g=s(9991),u=s(2933),v=s(3305),_=s(1713),f=s(7414),b=s(2540),y=s(1357),w=s(2648),k=function(){var e=this,t=e._self._c;return t(n.Z,{attrs:{id:"inspire"}},[t(l.Z,{attrs:{app:"",value:e.alert,prominent:"",type:"error"}},[e._v(e._s(e.alertMessage))]),t(g.Z,{staticClass:"pa-2 invisible-scrollbar",attrs:{app:"",clipped:"",permanent:"",left:"",width:"150px",color:"transparent"}},[t(p.Z,{ref:"history_container",attrs:{id:"historycontainer"}},e._l(e.image_history,(function(s){return t("img",{key:s.id,staticClass:"imgh",style:[s.id==e.selected_image_id?{border:"1px solid white"}:s.saved?{border:"2px solid green"}:{border:"1px solid black",opacity:.7}],attrs:{src:s.url,seed:s.seed,prompt:s.prompt,im_id:s.id,gen_width:s.gen_width,gen_height:s.gen_height,gen_scale:s.gen_scale,gen_steps:s.gen_steps},on:{click:e.image_click}})})),0),""==e.selected_image_id||e.selected_image_saved?e._e():t(o.Z,{staticClass:"ml-4 save_button",staticStyle:{padding:"20px"},attrs:{solo:"",small:"",elevation:"0",label:"save"},on:{click:e.onSave}},[t(h.Z,[e._v("mdi-floppy")])],1),""!=e.selected_image_id?t(o.Z,{staticClass:"ml-4 delete_button",staticStyle:{padding:"20px"},attrs:{solo:"",small:"",elevation:"0",label:"delete"},on:{click:e.onDelete}},[t(h.Z,[e._v("mdi-trash-can")])],1):e._e()],1),t(m.Z,{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{app:"",id:"main"}},[t(u.Z,{attrs:{value:e.overlay,opacity:"0.9"}},[t(v.Z,{attrs:{rotate:360,size:100,width:15,value:e.progress,color:"teal"}},[e._v(" "+e._s(e.progress)+" ")])],1),t(d.Z,{staticStyle:{display:"block"},attrs:{fluid:"",id:"imgcontainer"}})],1),t(g.Z,{staticClass:"pa-0",attrs:{app:"",clipped:"",permanent:"",right:"",color:"transparent"}},[t(b.Z,[e._v(" Width ")]),t(f.Z,e._g(e._b({staticClass:"ml-4 mr-4",attrs:{label:e.width.val,"thumb-color":e.width.color,min:512,max:768,step:"64",ticks:"always","tick-size":"2","thumb-label":"","inverse-label":""},model:{value:e.width.val,callback:function(t){e.$set(e.width,"val",t)},expression:"width.val"}},"v-slider",e.attrs,!1),e.on)),t(b.Z,[e._v(" Height ")]),t(f.Z,{staticClass:"ml-4 mr-4",attrs:{label:e.height.val,"thumb-color":e.height.color,min:512,max:768,step:"64",ticks:"always","tick-size":"2","thumb-label":"","inverse-label":""},model:{value:e.height.val,callback:function(t){e.$set(e.height,"val",t)},expression:"height.val"}}),t(b.Z,[e._v(" Scale ")]),t(f.Z,{staticClass:"ml-4 mr-4",attrs:{label:e.scale.val,"thumb-color":e.scale.color,min:1,max:20,"thumb-label":"","inverse-label":""},model:{value:e.scale.val,callback:function(t){e.$set(e.scale,"val",t)},expression:"scale.val"}}),t(b.Z,[e._v(" Steps ")]),t(f.Z,{staticClass:"ml-4 mr-4",attrs:{label:e.steps.val,"thumb-color":e.scale.color,min:10,max:60,"thumb-label":"","inverse-label":""},model:{value:e.steps.val,callback:function(t){e.$set(e.steps,"val",t)},expression:"steps.val"}}),t(b.Z,[e._v(" Seed ")]),t(y.Z,{staticClass:"ml-4 mr-4",attrs:{solo:"",flat:"",dense:"",value:e.seed}}),t(o.Z,{staticClass:"ml-4",staticStyle:{padding:"20px"},attrs:{solo:"",small:"",elevation:"0",label:"explore"},on:{click:e.onExplore}},[e._v("explore")]),t(o.Z,{staticClass:"mb-3 render_button",staticStyle:{padding:"20px"},attrs:{solo:"","x-large":"",elevation:"0",label:"render"},on:{click:e.onGenerate}},[e._v("render")])],1),t(c.Z,{staticClass:"pl-0 pr-0",attrs:{app:"",color:"transparent",height:"84",inset:""}},[t(d.Z,[t(_.Z,[t(w.Z,{staticClass:"ma-4",attrs:{filled:"",rows:"2",solo:"",flat:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.textarea_keypress.apply(null,arguments))}},model:{value:e.prompt,callback:function(t){e.prompt=t},expression:"prompt"}})],1)],1)],1)],1)},Z=[],x={data:()=>({progress:0,progressInterval:{},alert:!1,overlay:!1,last_prompt:"",last_seed:0,prompt:"product photo, beautiful vase, zen garden, still life, photoreal, bokeh, depth of field, calming",showImage:!1,currentImageData:0,currentImageUrl:"test.html",currentImageName:"no_name.jpg",image_history:[],seed:42,lock_seed:!0,image_id:"",selected_image_id:"",selected_image_saved:!1,generatedImage:"imagepath",alertMessage:"Warning, generated images contained some not safe for work content and have been replaced.",links:["Dashboard","Messages","Profile","Updates"],width:{label:"width",val:512,color:"blue lighten-1"},height:{label:"height",val:512,color:"blue lighten-1"},scale:{label:"scale",val:7,color:"blue lighten-1"},steps:{label:"steps",val:25,color:"blue lighten-1"}}),created(){window.addEventListener("resize",this.onWindowResize)},destroyed(){window.removeEventListener("resize",this.onWindowResize)},watch:{seed:{immediate:!0,handler(){this.last_prompt=""}},lock_seed:{immediate:!0,handler(){this.last_prompt=""}}},methods:{textarea_keypress(){this.onGenerate()},image_click(e){var t=e.target||e.srcElement;this.prompt=""+t.getAttribute("prompt"),this.seed=parseInt(""+t.getAttribute("seed")),this.width.val=parseInt(""+t.getAttribute("gen_width")),this.height.val=parseInt(""+t.getAttribute("gen_height")),this.steps.val=parseInt(""+t.getAttribute("gen_steps")),this.scale.val=parseInt(""+t.getAttribute("gen_scale")),this.selected_image_id=""+t.getAttribute("im_id");var s=0;for(s;s<this.image_history.length;s++)if(this.selected_image_id==this.image_history[s].id){this.image_history[s].saved?this.selected_image_saved=!0:this.selected_image_saved=!1;break}this.lock_seed=!0;var i=document.getElementById("display_image");i.setAttribute("src",t.getAttribute("src")),this.last_prompt=""},onSave(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.selected_image_id})};fetch(this.api_server+"/save_prompt/",e).then((e=>e.json())).then((e=>{if("OK"==e.result){var t=0;for(t;t<this.image_history.length;t++)if(this.selected_image_id==this.image_history[t].id){this.image_history[t].saved=!0;break}this.selected_image_saved=!0}}))},onDelete(){var e=0,t=!1;for(e;e<this.image_history.length;e++)if(this.selected_image_id==this.image_history[e].id){t=!0;break}t&&(this.image_history.splice(e,1),this.selected_image_id="",this.selected_image_saved=!1)},onExplore(){this.seed=Math.floor(1e7*Math.random())},onGenerate(){var e=this.api_server+"/submit_prompt/?q="+this.prompt+"&w="+this.width.val+"&h="+this.height.val+"&scale="+this.scale.val+"&steps="+this.steps.val;this.lock_seed&&(e=e+"&seed="+this.seed),fetch(e).then((e=>e.json())).then((e=>{"OK"==e.result?(this.seed=e.seed,this.image_id=e.id,this.overlay=!0,this.progressInterval=setInterval((()=>{100===this.progress&&fetch(this.api_server+"/check_prompt/?id="+this.image_id).then((e=>e.json())).then((e=>{if("OK"==e.result){this.overlay=!1,this.progress=0,clearInterval(this.progressInterval);var t=this.api_server+"/download_prompt/?id="+this.image_id;this.image_history.unshift({url:t,id:this.image_id,seed:this.seed,gen_width:this.width.val,gen_height:this.height.val,gen_scale:this.scale.val,gen_steps:this.steps.val,prompt:this.prompt,saved:!1}),this.selected_image_id=this.image_id,this.selected_image_saved=!1,document.querySelector("#imgcontainer").innerHTML="";let e=document.createElement("img"),i=document.createElement("img");e.id="display_image";var s=new Image;s.onload=function(){e.src=this.src,i.src=this.src},s.src=t,document.querySelector("#imgcontainer").appendChild(e),this.onWindowResize()}else this.progress=50})),this.progress+=10}),750)):"ERROR"==e.result&&this.warning(e.message),console.log(e)}))},onWindowResize(){var e=document.querySelector("#imgcontainer"),t=document.querySelector("#main"),s=t.offsetWidth,i=window.innerHeight-90;e.style.width=s+"px",e.style.height=i+"px"},warning(e){this.alertMessage=e,this.alert=!0,window.setTimeout((()=>{this.alert=!1,console.log("hide alert after 3 seconds")}),3e3)}}},S=x,O=s(1001),C=(0,O.Z)(S,k,Z,!1,null,null,null),I=C.exports,j={name:"App",metaInfo:{title:"Render Team AI Sandbox",titleTemplate:"%s"},components:{HelloWorld:I},data:()=>({})},P=j,A=(0,O.Z)(P,a,r,!1,null,null,null),E=A.exports,T=s(8864),z=s(2638);i.ZP.use(T.Z);var M=new T.Z({theme:{options:{customProperties:!0},dark:!0,themes:{dark:{primary:z.Z.blue.darken1,secondary:z.Z.blue.lighten4,accent:z.Z.indigo.base,background:"#161616"},light:{primary:z.Z.red.darken1,secondary:z.Z.red.lighten4,accent:z.Z.indigo.base,background:z.Z.red.darken1}}}}),W=s(7356);i.ZP.use(W.Z),i.ZP.config.productionTip=!1,i.ZP.prototype.api_server="http://17.185.242.37",new i.ZP({vuetify:M,render:e=>e(E)}).$mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,r){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],r=e[c][2];for(var n=!0,o=0;o<i.length;o++)(!1&r||l>=r)&&Object.keys(s.O).every((function(e){return s.O[e](i[o])}))?i.splice(o--,1):(n=!1,r<l&&(l=r));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,a,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,l=i[0],n=i[1],o=i[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(o)var c=o(s)}for(t&&t(i);d<l.length;d++)r=l[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},i=self["webpackChunkmd_ui"]=self["webpackChunkmd_ui"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(3268)}));i=s.O(i)})();
//# sourceMappingURL=app.73e424df.js.map