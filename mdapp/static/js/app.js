(function(){"use strict";var e={5628:function(e,t,s){var i=s(538),a=function(){var e=this,t=e._self._c;return t("HelloWorld")},r=[],o=s(1653),n=s(998),l=s(4562),p=s(266),d=s(2150),m=s(8271),c=s(4324),h=s(5808),u=s(3059),_=s(6733),g=s(1713),f=s(1131),v=s(7414),b=s(2540),y=s(7808),w=s(2648),Z=function(){var e=this,t=e._self._c;return t(n.Z,{attrs:{id:"inspire"}},[t(_.Z,{staticClass:"pa-2 invisible-scrollbar",attrs:{app:"",clipped:"",permanent:"",left:"",width:"150px",color:"transparent"}},[t(h.Z,{ref:"history_container",staticClass:"d-flex flex-column-reverse",attrs:{id:"historycontainer"}},e._l(e.image_history,(function(s){return t("ImageThumb",{key:s.prompt_id,attrs:{settings:s.settings,prompt_id:s.prompt_id,selected:s.prompt_id==e.selected_image_id},on:{show:e.show_image}})})),1),""==e.selected_image_id||e.selected_image_saved?e._e():t(l.Z,{staticClass:"ml-4 save_button",staticStyle:{padding:"20px"},attrs:{solo:"",small:"",elevation:"0",label:"save"},on:{click:e.onSave}},[t(c.Z,[e._v("mdi-floppy")])],1),""!=e.selected_image_id?t(l.Z,{staticClass:"ml-4 delete_button",staticStyle:{padding:"20px"},attrs:{solo:"",small:"",elevation:"0",label:"delete"},on:{click:e.onDelete}},[t(c.Z,[e._v("mdi-trash-can")])],1):e._e()],1),t(u.Z,{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{app:"",id:"main"}},[t(d.Z,{staticStyle:{display:"block"},attrs:{fluid:"",id:"imgcontainer"}})],1),t(_.Z,{staticClass:"pa-0",attrs:{app:"",clipped:"",permanent:"",right:"",color:"transparent"}},[t(f.Z,{attrs:{items:e.possible_modes,filled:"",label:"Mode"},model:{value:e.current_mode,callback:function(t){e.current_mode=t},expression:"current_mode"}}),t(b.Z,[e._v(" Resolution "+e._s(e.width.val)+" x "+e._s(e.height.val)+" pixels ")]),t(v.Z,{staticClass:"ml-4 mr-4",attrs:{"thumb-color":e.width.color,min:512,max:768,step:"64",ticks:"always","tick-size":"2","thumb-label":"","prepend-icon":"mdi-arrow-expand-horizontal"},model:{value:e.width.val,callback:function(t){e.$set(e.width,"val",t)},expression:"width.val"}}),t(v.Z,{staticClass:"ml-4 mr-4",attrs:{"thumb-color":e.height.color,min:512,max:768,step:"64",ticks:"always","tick-size":"2","prepend-icon":"mdi-arrow-expand-vertical","thumb-label":""},model:{value:e.height.val,callback:function(t){e.$set(e.height,"val",t)},expression:"height.val"}}),t(b.Z,[e._v(" "+e._s(e.steps.val)+" steps @ "+e._s(e.scale.val)+" scale ")]),t(v.Z,{staticClass:"ml-4 mr-4",attrs:{"thumb-color":e.scale.color,min:10,max:60,"thumb-label":"","prepend-icon":"mdi-av-timer"},model:{value:e.steps.val,callback:function(t){e.$set(e.steps,"val",t)},expression:"steps.val"}}),t(v.Z,{staticClass:"ml-4 mr-4",attrs:{"thumb-color":e.scale.color,min:1,max:20,"thumb-label":"","prepend-icon":"mdi-lightning-bolt-outline"},model:{value:e.scale.val,callback:function(t){e.$set(e.scale,"val",t)},expression:"scale.val"}}),t(b.Z,[e._v(" "+e._s(e.num_of_images)+" image"+e._s(e.num_of_images>1?"s":"")+" ")]),t(v.Z,{staticClass:"ml-4 mr-4",attrs:{"thumb-color":"blue lighten-1",ticks:"always","tick-size":"2",min:1,max:4,"thumb-label":"","prepend-icon":"mdi-animation-outline"},model:{value:e.num_of_images,callback:function(t){e.num_of_images=t},expression:"num_of_images"}}),t(b.Z,[e._v(" Seed number ")]),t(y.Z,{staticClass:"ml-4 mr-4",attrs:{solo:"",flat:"",dense:"",label:"seed"},model:{value:e.seed,callback:function(t){e.seed=t},expression:"seed"}}),t(l.Z,{staticClass:"ml-4",staticStyle:{padding:"20px"},attrs:{solo:"",small:"",elevation:"0",label:"explore"},on:{click:e.onExplore}},[e._v("explore")]),t(l.Z,{staticClass:"mb-3 render_button",staticStyle:{padding:"20px"},attrs:{solo:"","x-large":"",elevation:"0",label:"render"},on:{click:e.onGenerate}},[e._v("render")])],1),"Text -> Image"==e.current_mode?t(m.Z,{staticClass:"pl-0 pr-0",attrs:{fixed:"",app:"",color:"transparent",height:"80",inset:""}},[t(d.Z,[t(g.Z,[t(p.Z,{staticClass:"ma-0 pa-0"},[t(w.Z,{staticClass:"ml-4 mr-4",attrs:{filled:"",rows:"2",solo:"",flat:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.textarea_keypress.apply(null,arguments))}},model:{value:e.prompt,callback:function(t){e.prompt=t},expression:"prompt"}})],1)],1)],1)],1):e._e(),"List -> Image"==e.current_mode?t(m.Z,{staticClass:"pl-0 pr-0",attrs:{fixed:"",app:"",color:"transparent",height:"135",inset:""}},[t(d.Z,[t(g.Z,[t(p.Z,{staticClass:"ma-0 pa-0"},[t(w.Z,{staticClass:"ml-4 mr-4",attrs:{filled:"",rows:"1",solo:"",flat:"",dense:"","hide-details":""},model:{value:e.promptA,callback:function(t){e.promptA=t},expression:"promptA"}})],1)],1),t(g.Z,[t(p.Z,{staticClass:"ma-0 pa-0"},[t(v.Z,{staticClass:"ml-4 mr-4",attrs:{min:0,max:1,step:.01,"thumb-label":"","hide-details":""},model:{value:e.prompt_blend,callback:function(t){e.prompt_blend=t},expression:"prompt_blend"}})],1)],1),t(g.Z,[t(p.Z,{staticClass:"ma-0 pa-0"},[t(w.Z,{staticClass:"ml-4 mr-4",attrs:{filled:"",rows:"1",solo:"",flat:"",dense:"","hide-details":""},model:{value:e.promptB,callback:function(t){e.promptB=t},expression:"promptB"}})],1)],1)],1)],1):e._e(),t(o.Z,{attrs:{app:"",value:e.alert,prominent:"",dismissible:"",elevation:"16",type:"error"}},[e._v(e._s(e.alertMessage))])],1)},x=[],k=s(9582),C=s(5495),O=s(3305),S=function(){var e=this,t=e._self._c;return t(k.Z,{staticClass:"mb-1",style:[e.selected?{border:"3px solid white"}:e.settings.saved?{border:"3px solid green"}:{border:"3px solid transparent"}]},[e.ready?t(C.Z,{attrs:{src:e.src},on:{click:function(t){return e.$emit("show",e.settings,e.src)}}}):e._e(),e.ready?e._e():t(O.Z,{staticClass:"ma-4",attrs:{rotate:360,size:100,width:15,value:e.progress,color:"teal"}},[e._v(" "+e._s(e.progress)+" ")])],1)},T=[],I={emits:["show"],props:["prompt_id","settings","selected"],data(){return{ready:!1,src:"",progress:0,progressInterval:{}}},watch:{settings:{immediate:!0,handler(){if(2==this.settings.status){this.overlay=!1,this.progress=0;var e=this.api_server+"/download_prompt/?prompt_id="+this.settings.prompt_id;this.src=e,this.ready=!0}else this.progressInterval=setInterval((()=>{if(100===this.progress){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt_id:this.settings.prompt_id})};fetch(this.api_server+"/check_prompt/",e).then((e=>e.json())).then((e=>{if("OK"==e.result){this.overlay=!1,this.progress=0,clearInterval(this.progressInterval);var t=this.api_server+"/download_prompt/?prompt_id="+this.settings.prompt_id;this.src=t,this.ready=!0}else this.progress=50}))}this.progress+=1}),75)}}}},j=I,z=s(1001),P=(0,z.Z)(j,S,T,!1,null,null,null),R=P.exports,E={components:{ImageThumb:R},data:()=>({possible_modes:["Text -> Image","List -> Image"],current_mode:"Text -> Image",alert:!1,alertMessage:"Warning, generated images contained some not safe for work content and have been replaced.",prompt:"product photo, beautiful vase, zen garden, still life, photoreal, bokeh, depth of field, calming",image_history:[],image_id:"",selected_image_id:"",selected_image_saved:!1,promptA:"product photo, beautiful vase, zen garden, still life, photoreal, bokeh, depth of field, calming",promptB:"renaissance painting, beautiful vase, zen garden, still life, photoreal, bokeh, depth of field, calming",prompt_blend:.5,seed:42,width:{label:"width",val:512,color:"blue lighten-1"},height:{label:"height",val:512,color:"blue lighten-1"},scale:{label:"scale",val:7,color:"blue lighten-1"},steps:{label:"steps",val:25,color:"blue lighten-1"},num_of_images:1}),mounted(){window.addEventListener("resize",this.onWindowResize);const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:""})};fetch(this.api_server+"/load_history/",e).then((e=>e.json())).then((e=>{"OK"==e.result&&e.prompts.forEach((e=>{this.image_history.push({prompt_id:e.prompt_id,settings:{seed:e.seed,width:e.width,height:e.height,scale:e.scale,steps:e.steps,prompt:e.prompt,prompt_id:e.prompt_id,saved:e.saved,status:e.status,mode:e.mode}})}))}))},destroyed(){window.removeEventListener("resize",this.onWindowResize)},watch:{},methods:{show_image(e,t){this.seed=e.seed,this.width.val=e.width,this.height.val=e.height,this.steps.val=e.steps,this.scale.val=e.scale,this.selected_image_id=e.prompt_id,this.selected_image_saved=e.saved,this.current_mode=e.mode,"List -> Image"==e.mode?(this.promptA=e.prompt[0].text,this.promptB=e.prompt[1].text,this.prompt_blend=e.prompt[1].weight):this.prompt=e.prompt;var s=document.getElementById("display_image");if(null!=s)s.setAttribute("src",t),this.onWindowResize();else{document.querySelector("#imgcontainer").innerHTML="";let e=document.createElement("img");e.id="display_image";var i=new Image;i.onload=function(){e.src=t},i.src=t,document.querySelector("#imgcontainer").appendChild(e),this.onWindowResize()}},textarea_keypress(){this.onGenerate()},onSave(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt_id:this.selected_image_id})};fetch(this.api_server+"/save_prompt/",e).then((e=>e.json())).then((e=>{if("OK"==e.result){var t=0;for(t;t<this.image_history.length;t++)if(this.selected_image_id==this.image_history[t].prompt_id){this.image_history[t].settings.saved=!0;break}this.selected_image_saved=!0}else"ERR"==e.result&&this.warning(e.message)}))},onDelete(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt_id:this.selected_image_id})};fetch(this.api_server+"/delete_prompt/",e).then((e=>e.json())).then((e=>{if("OK"==e.result){var t=0,s=!1;for(t;t<this.image_history.length;t++)if(this.selected_image_id==this.image_history[t].prompt_id){s=!0;break}if(s)if(this.image_history.splice(t,1),t>0&&this.image_history.length>0){this.selected_image_id=this.image_history[t-1].prompt_id,this.selected_image_saved=this.image_history[t-1].settings.saved;var i=document.getElementById("display_image");i.setAttribute("src",this.api_server+"/download_prompt/?prompt_id="+this.image_history[t-1].prompt_id),this.onWindowResize()}else this.selected_image_id="",this.selected_image_saved=!1}else"ERR"==e.result&&this.warning(e.message)}))},onExplore(){this.seed=Math.floor(1e7*Math.random()),this.onGenerate()},onGenerate(){for(var e=0;e<this.num_of_images;e++){const t=this.seed+e+e*Math.floor(1e5*Math.random()),s="List -> Image"==this.current_mode?[{text:this.promptA,weight:1-this.prompt_blend},{text:this.promptB,weight:this.prompt_blend}]:this.prompt;fetch(this.api_server+"/submit_prompt/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s,w:this.width.val,h:this.height.val,scale:this.scale.val,steps:this.steps.val,seed:t,mode:this.current_mode})}).then((e=>e.json())).then((e=>{"OK"==e.result?this.image_history.push({prompt_id:e.prompt_id,settings:{seed:t,width:this.width.val,height:this.height.val,scale:this.scale.val,steps:this.steps.val,prompt:s,saved:!1,mode:this.current_mode,status:0,prompt_id:e.prompt_id}}):"ERR"==e.result&&this.warning(e.message),console.log(e)}))}this.num_of_images=1},onWindowResize(){var e=document.querySelector("#imgcontainer"),t=document.querySelector("#main"),s=t.offsetWidth,i=window.innerHeight-90;"List -> Image"==this.current_mode&&(i=window.innerHeight-135),e.style.width=s+"px",e.style.height=i+"px"},warning(e){this.alertMessage=e,this.alert=!0,window.setTimeout((()=>{this.alert=!1,console.log("hide alert after 3 seconds")}),3e3)}}},M=E,A=(0,z.Z)(M,Z,x,!1,null,null,null),W=A.exports,K={name:"App",metaInfo:{title:"Render Team AI Sandbox",titleTemplate:"%s"},components:{HelloWorld:W},data:()=>({})},B=K,L=(0,z.Z)(B,a,r,!1,null,null,null),$=L.exports,H=s(1705),J=s(2638);i.ZP.use(H.Z);var N=new H.Z({theme:{options:{customProperties:!0},dark:!0,themes:{dark:{primary:J.Z.blue.darken1,secondary:J.Z.blue.lighten4,accent:J.Z.indigo.base,background:"#161616"},light:{primary:J.Z.red.darken1,secondary:J.Z.red.lighten4,accent:J.Z.indigo.base,background:J.Z.red.darken1}}}}),q=s(7356);i.ZP.use(q.Z),i.ZP.config.productionTip=!1,i.ZP.prototype.api_server="http://17.185.240.235:8000/router",new i.ZP({vuetify:N,render:e=>e($)}).$mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,r){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],r=e[d][2];for(var n=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(n=!1,r<o&&(o=r));if(n){e.splice(d--,1);var p=a();void 0!==p&&(t=p)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,a,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,o=i[0],n=i[1],l=i[2],p=0;if(o.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(i);p<o.length;p++)r=o[p],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},i=self["webpackChunkmd_ui"]=self["webpackChunkmd_ui"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(5628)}));i=s.O(i)})();
//# sourceMappingURL=app.js.map